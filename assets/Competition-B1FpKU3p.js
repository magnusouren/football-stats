import{o as Ct,j as e,u as je,r,l as jt,d as Tt,p as De,i as V,A as Pt,P as _,g as P,k as q,q as Le,s as It,t as Rt,v as Et,S as _t,F as Mt,D as Dt,C as Lt,f as Te,w as At,V as Ot,x as kt,m as Bt,e as Ie,y as Vt,z as Ht,c as Y,B as Ft,n as Ut}from"./index-DRKtL5su.js";import{T as Wt,a as Kt,b as $t,c as Re,d as k,e as Gt,f as B}from"./table-AMmjzr1x.js";import{C as Ae}from"./chevron-down-B_cvIPGu.js";import{C as Ee}from"./types-CbltgsXM.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),qt="/api",Yt=async t=>await(await fetch(`${qt}/competitions/${t}`)).json(),Xt=(t,s)=>s==="PL"&&t<=4?"border-l-4 border-l-blue-600":s==="PL"&&t==5?"border-l-4 border-l-green-500":s==="PL"&&t>=18?"border-l-4 border-l-red-500":s==="CL"&&t<=8?"border-l-4 border-l-blue-600":s==="CL"&&t<=24&&t>=9?"border-l-4 border-l-orange-500":"",Oe=({data:t,competitionId:s,name:n})=>e.jsxs(Wt,{className:"text-xs sm:text-sm mt-4",children:[n&&e.jsx(Kt,{children:n}),e.jsx($t,{children:e.jsxs(Re,{children:[e.jsx(k,{className:"w-2"}),e.jsx(k,{children:"Team"}),e.jsxs(k,{className:"text-center border-l",children:[e.jsx("span",{className:"hidden sm:inline",children:"Played"}),e.jsx("span",{className:"sm:hidden",children:"P"})]}),e.jsxs(k,{className:"text-center",children:[e.jsx("span",{className:"hidden sm:inline",children:"Won"}),e.jsx("span",{className:"sm:hidden",children:"W"})]}),e.jsxs(k,{className:"text-center",children:[e.jsx("span",{className:"hidden sm:inline",children:"Draw"}),e.jsx("span",{className:"sm:hidden",children:"D"})]}),e.jsxs(k,{className:"text-center border-r",children:[e.jsx("span",{className:"hidden sm:inline",children:"Lost"}),e.jsx("span",{className:"sm:hidden",children:"L"})]}),e.jsxs(k,{className:"text-center",children:[e.jsx("span",{className:"hidden sm:inline",children:"Goals"}),e.jsx("span",{className:"sm:hidden",children:"+/-"})]}),e.jsxs(k,{className:"text-center border-r",children:[e.jsx("span",{className:"hidden sm:inline",children:"Diff"}),e.jsx("span",{className:"sm:hidden",children:"Diff."})]}),t[0].form&&e.jsx(k,{className:"hidden sm:table-cell",children:"Form"}),e.jsxs(k,{className:"font-semibold border-r text-center",children:[e.jsx("span",{className:"hidden sm:inline",children:"Points"}),e.jsx("span",{className:"sm:hidden",children:"P"})]})]})}),e.jsx(Gt,{children:t==null?void 0:t.map(o=>e.jsxs(Re,{className:"even:bg-accent",children:[e.jsxs(B,{className:`${Xt(o.position,s)} pr-0`,children:[o.position,"."]}),e.jsx(B,{className:"",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:o.team.crest,alt:o.team.name,className:"w-5 h-5 self-center"}),e.jsx("a",{href:`/team/${o.team.id}`,className:"hover:underline hover:cursor-pointer",children:o.team.shortName})]})}),e.jsx(B,{className:"text-center border-l",children:o.playedGames}),e.jsx(B,{className:"text-center",children:o.won}),e.jsx(B,{className:"text-center",children:o.draw}),e.jsx(B,{className:"text-center border-r",children:o.lost}),e.jsxs(B,{className:"text-center whitespace-nowrap",children:[e.jsx("span",{children:o.goalsFor}),e.jsx("span",{className:"sm:px-1",children:"-"}),e.jsx("span",{children:o.goalsAgainst})]}),e.jsx(B,{className:"text-center border-r",children:o.goalDifference}),o.form&&e.jsx(B,{className:" whitespace-nowrap hidden sm:block",children:o.form.split(",").reverse().map((l,d)=>e.jsxs("span",{className:"mx-0.5",children:[l==="W"&&"ðŸŸ¢",l==="L"&&"ðŸ”´",l==="D"&&"ðŸŸ¡"]},d))}),e.jsx(B,{className:"font-semibold border-r text-center",children:o.points})]},o.team.id))})]}),_e="/api",ke=async(t,s,n)=>{let o;return n?o=await fetch(`${_e}/competitions/${t}/standings`):o=await fetch(`${_e}/competitions/${t}/standings?season=${s}`),await o.json()},Zt=({season:t,competitionId:s})=>{const n=parseInt(t),{data:o,error:l,isLoading:d}=je({queryKey:["table",s,n],queryFn:()=>ke(s,n,!0)});return console.log(o),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mt-8",children:t}),d&&e.jsx("p",{children:"Loading..."}),l&&e.jsxs("p",{children:["Something went wrong ",l.message]}),o&&o.standings.length>0&&o.standings.map(a=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mt-8",children:[a.group," - ",a.stage]}),e.jsx(Oe,{data:a.table,competitionId:s,name:a.group},a.group)]},a.group))]})},Qt=({competitionId:t,season:s})=>{const n=parseInt(s),{data:o,error:l,isLoading:d}=je({queryKey:["table",t,n],queryFn:()=>ke(t,n)});return e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mt-8",children:["Table for the ",s," season"]}),d&&e.jsx("p",{children:"Loading..."}),l&&e.jsxs("p",{children:["Something went wrong ",l.message]}),o&&o.standings.length===0&&e.jsx("p",{children:"No data available"}),o&&o.standings.length>0&&e.jsx(Oe,{data:o.standings[0].table,competitionId:t,name:o.standings[0].group})]})};function Me(t,[s,n]){return Math.min(n,Math.max(s,t))}function Jt(t){const s=r.useRef({value:t,previous:t});return r.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var en=[" ","Enter","ArrowUp","ArrowDown"],tn=[" ","Enter"],le="Select",[ue,pe,nn]=jt(le),[oe,An]=Tt(le,[nn,De]),fe=De(),[on,X]=oe(le),[sn,rn]=oe(le),Be=t=>{const{__scopeSelect:s,children:n,open:o,defaultOpen:l,onOpenChange:d,value:a,defaultValue:i,onValueChange:c,dir:f,name:g,autoComplete:w,disabled:j,required:T,form:C}=t,u=fe(s),[x,y]=r.useState(null),[p,h]=r.useState(null),[M,D]=r.useState(!1),se=Bt(f),[I=!1,A]=Ie({prop:o,defaultProp:l,onChange:d}),[$,Q]=Ie({prop:a,defaultProp:i,onChange:c}),H=r.useRef(null),F=x?C||!!x.closest("form"):!0,[G,U]=r.useState(new Set),W=Array.from(G).map(R=>R.props.value).join(";");return e.jsx(Vt,{...u,children:e.jsxs(on,{required:T,scope:s,trigger:x,onTriggerChange:y,valueNode:p,onValueNodeChange:h,valueNodeHasChildren:M,onValueNodeHasChildrenChange:D,contentId:Te(),value:$,onValueChange:Q,open:I,onOpenChange:A,dir:se,triggerPointerDownPosRef:H,disabled:j,children:[e.jsx(ue.Provider,{scope:s,children:e.jsx(sn,{scope:t.__scopeSelect,onNativeOptionAdd:r.useCallback(R=>{U(O=>new Set(O).add(R))},[]),onNativeOptionRemove:r.useCallback(R=>{U(O=>{const K=new Set(O);return K.delete(R),K})},[]),children:n})}),F?e.jsxs(it,{"aria-hidden":!0,required:T,tabIndex:-1,name:g,autoComplete:w,value:$,onChange:R=>Q(R.target.value),disabled:j,form:C,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(G)]},W):null]})})};Be.displayName=le;var Ve="SelectTrigger",He=r.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:o=!1,...l}=t,d=fe(n),a=X(Ve,n),i=a.disabled||o,c=V(s,a.onTriggerChange),f=pe(n),g=r.useRef("touch"),[w,j,T]=dt(u=>{const x=f().filter(h=>!h.disabled),y=x.find(h=>h.value===a.value),p=ut(x,u,y);p!==void 0&&a.onValueChange(p.value)}),C=u=>{i||(a.onOpenChange(!0),T()),u&&(a.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(Pt,{asChild:!0,...d,children:e.jsx(_.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":ct(a.value)?"":void 0,...l,ref:c,onClick:P(l.onClick,u=>{u.currentTarget.focus(),g.current!=="mouse"&&C(u)}),onPointerDown:P(l.onPointerDown,u=>{g.current=u.pointerType;const x=u.target;x.hasPointerCapture(u.pointerId)&&x.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(C(u),u.preventDefault())}),onKeyDown:P(l.onKeyDown,u=>{const x=w.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&j(u.key),!(x&&u.key===" ")&&en.includes(u.key)&&(C(),u.preventDefault())})})})});He.displayName=Ve;var Fe="SelectValue",Ue=r.forwardRef((t,s)=>{const{__scopeSelect:n,className:o,style:l,children:d,placeholder:a="",...i}=t,c=X(Fe,n),{onValueNodeHasChildrenChange:f}=c,g=d!==void 0,w=V(s,c.onValueNodeChange);return q(()=>{f(g)},[f,g]),e.jsx(_.span,{...i,ref:w,style:{pointerEvents:"none"},children:ct(c.value)?e.jsx(e.Fragment,{children:a}):d})});Ue.displayName=Fe;var an="SelectIcon",We=r.forwardRef((t,s)=>{const{__scopeSelect:n,children:o,...l}=t;return e.jsx(_.span,{"aria-hidden":!0,...l,ref:s,children:o||"â–¼"})});We.displayName=an;var ln="SelectPortal",Ke=t=>e.jsx(Ht,{asChild:!0,...t});Ke.displayName=ln;var te="SelectContent",$e=r.forwardRef((t,s)=>{const n=X(te,t.__scopeSelect),[o,l]=r.useState();if(q(()=>{l(new DocumentFragment)},[]),!n.open){const d=o;return d?Le.createPortal(e.jsx(Ge,{scope:t.__scopeSelect,children:e.jsx(ue.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),d):null}return e.jsx(ze,{...t,ref:s})});$e.displayName=te;var L=10,[Ge,Z]=oe(te),cn="SelectContentImpl",ze=r.forwardRef((t,s)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:d,onPointerDownOutside:a,side:i,sideOffset:c,align:f,alignOffset:g,arrowPadding:w,collisionBoundary:j,collisionPadding:T,sticky:C,hideWhenDetached:u,avoidCollisions:x,...y}=t,p=X(te,n),[h,M]=r.useState(null),[D,se]=r.useState(null),I=V(s,m=>M(m)),[A,$]=r.useState(null),[Q,H]=r.useState(null),F=pe(n),[G,U]=r.useState(!1),W=r.useRef(!1);r.useEffect(()=>{if(h)return It(h)},[h]),Rt();const R=r.useCallback(m=>{const[N,...E]=F().map(S=>S.ref.current),[b]=E.slice(-1),v=document.activeElement;for(const S of m)if(S===v||(S==null||S.scrollIntoView({block:"nearest"}),S===N&&D&&(D.scrollTop=0),S===b&&D&&(D.scrollTop=D.scrollHeight),S==null||S.focus(),document.activeElement!==v))return},[F,D]),O=r.useCallback(()=>R([A,h]),[R,A,h]);r.useEffect(()=>{G&&O()},[G,O]);const{onOpenChange:K,triggerPointerDownPosRef:z}=p;r.useEffect(()=>{if(h){let m={x:0,y:0};const N=b=>{var v,S;m={x:Math.abs(Math.round(b.pageX)-(((v=z.current)==null?void 0:v.x)??0)),y:Math.abs(Math.round(b.pageY)-(((S=z.current)==null?void 0:S.y)??0))}},E=b=>{m.x<=10&&m.y<=10?b.preventDefault():h.contains(b.target)||K(!1),document.removeEventListener("pointermove",N),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",N),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",E,{capture:!0})}}},[h,K,z]),r.useEffect(()=>{const m=()=>K(!1);return window.addEventListener("blur",m),window.addEventListener("resize",m),()=>{window.removeEventListener("blur",m),window.removeEventListener("resize",m)}},[K]);const[me,ce]=dt(m=>{const N=F().filter(v=>!v.disabled),E=N.find(v=>v.ref.current===document.activeElement),b=ut(N,m,E);b&&setTimeout(()=>b.ref.current.focus())}),he=r.useCallback((m,N,E)=>{const b=!W.current&&!E;(p.value!==void 0&&p.value===N||b)&&($(m),b&&(W.current=!0))},[p.value]),xe=r.useCallback(()=>h==null?void 0:h.focus(),[h]),ne=r.useCallback((m,N,E)=>{const b=!W.current&&!E;(p.value!==void 0&&p.value===N||b)&&H(m)},[p.value]),ie=o==="popper"?we:qe,re=ie===we?{side:i,sideOffset:c,align:f,alignOffset:g,arrowPadding:w,collisionBoundary:j,collisionPadding:T,sticky:C,hideWhenDetached:u,avoidCollisions:x}:{};return e.jsx(Ge,{scope:n,content:h,viewport:D,onViewportChange:se,itemRefCallback:he,selectedItem:A,onItemLeave:xe,itemTextRefCallback:ne,focusSelectedItem:O,selectedItemText:Q,position:o,isPositioned:G,searchRef:me,children:e.jsx(Et,{as:_t,allowPinchZoom:!0,children:e.jsx(Mt,{asChild:!0,trapped:p.open,onMountAutoFocus:m=>{m.preventDefault()},onUnmountAutoFocus:P(l,m=>{var N;(N=p.trigger)==null||N.focus({preventScroll:!0}),m.preventDefault()}),children:e.jsx(Dt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(ie,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:m=>m.preventDefault(),...y,...re,onPlaced:()=>U(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:P(y.onKeyDown,m=>{const N=m.ctrlKey||m.altKey||m.metaKey;if(m.key==="Tab"&&m.preventDefault(),!N&&m.key.length===1&&ce(m.key),["ArrowUp","ArrowDown","Home","End"].includes(m.key)){let b=F().filter(v=>!v.disabled).map(v=>v.ref.current);if(["ArrowUp","End"].includes(m.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(m.key)){const v=m.target,S=b.indexOf(v);b=b.slice(S+1)}setTimeout(()=>R(b)),m.preventDefault()}})})})})})})});ze.displayName=cn;var dn="SelectItemAlignedPosition",qe=r.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:o,...l}=t,d=X(te,n),a=Z(te,n),[i,c]=r.useState(null),[f,g]=r.useState(null),w=V(s,I=>g(I)),j=pe(n),T=r.useRef(!1),C=r.useRef(!0),{viewport:u,selectedItem:x,selectedItemText:y,focusSelectedItem:p}=a,h=r.useCallback(()=>{if(d.trigger&&d.valueNode&&i&&f&&u&&x&&y){const I=d.trigger.getBoundingClientRect(),A=f.getBoundingClientRect(),$=d.valueNode.getBoundingClientRect(),Q=y.getBoundingClientRect();if(d.dir!=="rtl"){const v=Q.left-A.left,S=$.left-v,J=I.left-S,ee=I.width+J,ge=Math.max(ee,A.width),ve=window.innerWidth-L,Se=Me(S,[L,Math.max(L,ve-ge)]);i.style.minWidth=ee+"px",i.style.left=Se+"px"}else{const v=A.right-Q.right,S=window.innerWidth-$.right-v,J=window.innerWidth-I.right-S,ee=I.width+J,ge=Math.max(ee,A.width),ve=window.innerWidth-L,Se=Me(S,[L,Math.max(L,ve-ge)]);i.style.minWidth=ee+"px",i.style.right=Se+"px"}const H=j(),F=window.innerHeight-L*2,G=u.scrollHeight,U=window.getComputedStyle(f),W=parseInt(U.borderTopWidth,10),R=parseInt(U.paddingTop,10),O=parseInt(U.borderBottomWidth,10),K=parseInt(U.paddingBottom,10),z=W+R+G+K+O,me=Math.min(x.offsetHeight*5,z),ce=window.getComputedStyle(u),he=parseInt(ce.paddingTop,10),xe=parseInt(ce.paddingBottom,10),ne=I.top+I.height/2-L,ie=F-ne,re=x.offsetHeight/2,m=x.offsetTop+re,N=W+R+m,E=z-N;if(N<=ne){const v=H.length>0&&x===H[H.length-1].ref.current;i.style.bottom="0px";const S=f.clientHeight-u.offsetTop-u.offsetHeight,J=Math.max(ie,re+(v?xe:0)+S+O),ee=N+J;i.style.height=ee+"px"}else{const v=H.length>0&&x===H[0].ref.current;i.style.top="0px";const J=Math.max(ne,W+u.offsetTop+(v?he:0)+re)+E;i.style.height=J+"px",u.scrollTop=N-ne+u.offsetTop}i.style.margin=`${L}px 0`,i.style.minHeight=me+"px",i.style.maxHeight=F+"px",o==null||o(),requestAnimationFrame(()=>T.current=!0)}},[j,d.trigger,d.valueNode,i,f,u,x,y,d.dir,o]);q(()=>h(),[h]);const[M,D]=r.useState();q(()=>{f&&D(window.getComputedStyle(f).zIndex)},[f]);const se=r.useCallback(I=>{I&&C.current===!0&&(h(),p==null||p(),C.current=!1)},[h,p]);return e.jsx(pn,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:T,onScrollButtonChange:se,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:e.jsx(_.div,{...l,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});qe.displayName=dn;var un="SelectPopperPosition",we=r.forwardRef((t,s)=>{const{__scopeSelect:n,align:o="start",collisionPadding:l=L,...d}=t,a=fe(n);return e.jsx(Lt,{...a,...d,ref:s,align:o,collisionPadding:l,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});we.displayName=un;var[pn,Pe]=oe(te,{}),ye="SelectViewport",Ye=r.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:o,...l}=t,d=Z(ye,n),a=Pe(ye,n),i=V(s,d.onViewportChange),c=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(ue.Slot,{scope:n,children:e.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:P(l.onScroll,f=>{const g=f.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:j}=a;if(j!=null&&j.current&&w){const T=Math.abs(c.current-g.scrollTop);if(T>0){const C=window.innerHeight-L*2,u=parseFloat(w.style.minHeight),x=parseFloat(w.style.height),y=Math.max(u,x);if(y<C){const p=y+T,h=Math.min(C,p),M=p-h;w.style.height=h+"px",w.style.bottom==="0px"&&(g.scrollTop=M>0?M:0,w.style.justifyContent="flex-end")}}}c.current=g.scrollTop})})})]})});Ye.displayName=ye;var Xe="SelectGroup",[fn,mn]=oe(Xe),hn=r.forwardRef((t,s)=>{const{__scopeSelect:n,...o}=t,l=Te();return e.jsx(fn,{scope:n,id:l,children:e.jsx(_.div,{role:"group","aria-labelledby":l,...o,ref:s})})});hn.displayName=Xe;var Ze="SelectLabel",Qe=r.forwardRef((t,s)=>{const{__scopeSelect:n,...o}=t,l=mn(Ze,n);return e.jsx(_.div,{id:l.id,...o,ref:s})});Qe.displayName=Ze;var de="SelectItem",[xn,Je]=oe(de),et=r.forwardRef((t,s)=>{const{__scopeSelect:n,value:o,disabled:l=!1,textValue:d,...a}=t,i=X(de,n),c=Z(de,n),f=i.value===o,[g,w]=r.useState(d??""),[j,T]=r.useState(!1),C=V(s,p=>{var h;return(h=c.itemRefCallback)==null?void 0:h.call(c,p,o,l)}),u=Te(),x=r.useRef("touch"),y=()=>{l||(i.onValueChange(o),i.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(xn,{scope:n,value:o,disabled:l,textId:u,isSelected:f,onItemTextChange:r.useCallback(p=>{w(h=>h||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(ue.ItemSlot,{scope:n,value:o,disabled:l,textValue:g,children:e.jsx(_.div,{role:"option","aria-labelledby":u,"data-highlighted":j?"":void 0,"aria-selected":f&&j,"data-state":f?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...a,ref:C,onFocus:P(a.onFocus,()=>T(!0)),onBlur:P(a.onBlur,()=>T(!1)),onClick:P(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:P(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:P(a.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:P(a.onPointerMove,p=>{var h;x.current=p.pointerType,l?(h=c.onItemLeave)==null||h.call(c):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(a.onPointerLeave,p=>{var h;p.currentTarget===document.activeElement&&((h=c.onItemLeave)==null||h.call(c))}),onKeyDown:P(a.onKeyDown,p=>{var M;((M=c.searchRef)==null?void 0:M.current)!==""&&p.key===" "||(tn.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});et.displayName=de;var ae="SelectItemText",tt=r.forwardRef((t,s)=>{const{__scopeSelect:n,className:o,style:l,...d}=t,a=X(ae,n),i=Z(ae,n),c=Je(ae,n),f=rn(ae,n),[g,w]=r.useState(null),j=V(s,y=>w(y),c.onItemTextChange,y=>{var p;return(p=i.itemTextRefCallback)==null?void 0:p.call(i,y,c.value,c.disabled)}),T=g==null?void 0:g.textContent,C=r.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:T},c.value),[c.disabled,c.value,T]),{onNativeOptionAdd:u,onNativeOptionRemove:x}=f;return q(()=>(u(C),()=>x(C)),[u,x,C]),e.jsxs(e.Fragment,{children:[e.jsx(_.span,{id:c.textId,...d,ref:j}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Le.createPortal(d.children,a.valueNode):null]})});tt.displayName=ae;var nt="SelectItemIndicator",ot=r.forwardRef((t,s)=>{const{__scopeSelect:n,...o}=t;return Je(nt,n).isSelected?e.jsx(_.span,{"aria-hidden":!0,...o,ref:s}):null});ot.displayName=nt;var be="SelectScrollUpButton",st=r.forwardRef((t,s)=>{const n=Z(be,t.__scopeSelect),o=Pe(be,t.__scopeSelect),[l,d]=r.useState(!1),a=V(s,o.onScrollButtonChange);return q(()=>{if(n.viewport&&n.isPositioned){let i=function(){const f=c.scrollTop>0;d(f)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),l?e.jsx(at,{...t,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});st.displayName=be;var Ne="SelectScrollDownButton",rt=r.forwardRef((t,s)=>{const n=Z(Ne,t.__scopeSelect),o=Pe(Ne,t.__scopeSelect),[l,d]=r.useState(!1),a=V(s,o.onScrollButtonChange);return q(()=>{if(n.viewport&&n.isPositioned){let i=function(){const f=c.scrollHeight-c.clientHeight,g=Math.ceil(c.scrollTop)<f;d(g)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),l?e.jsx(at,{...t,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});rt.displayName=Ne;var at=r.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:o,...l}=t,d=Z("SelectScrollButton",n),a=r.useRef(null),i=pe(n),c=r.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),q(()=>{var g;const f=i().find(w=>w.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[i]),e.jsx(_.div,{"aria-hidden":!0,...l,ref:s,style:{flexShrink:0,...l.style},onPointerDown:P(l.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(o,50))}),onPointerMove:P(l.onPointerMove,()=>{var f;(f=d.onItemLeave)==null||f.call(d),a.current===null&&(a.current=window.setInterval(o,50))}),onPointerLeave:P(l.onPointerLeave,()=>{c()})})}),gn="SelectSeparator",lt=r.forwardRef((t,s)=>{const{__scopeSelect:n,...o}=t;return e.jsx(_.div,{"aria-hidden":!0,...o,ref:s})});lt.displayName=gn;var Ce="SelectArrow",vn=r.forwardRef((t,s)=>{const{__scopeSelect:n,...o}=t,l=fe(n),d=X(Ce,n),a=Z(Ce,n);return d.open&&a.position==="popper"?e.jsx(At,{...l,...o,ref:s}):null});vn.displayName=Ce;function ct(t){return t===""||t===void 0}var it=r.forwardRef((t,s)=>{const{value:n,...o}=t,l=r.useRef(null),d=V(s,l),a=Jt(n);return r.useEffect(()=>{const i=l.current,c=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&g){const w=new Event("change",{bubbles:!0});g.call(i,n),i.dispatchEvent(w)}},[a,n]),e.jsx(Ot,{asChild:!0,children:e.jsx("select",{...o,ref:d,defaultValue:n})})});it.displayName="BubbleSelect";function dt(t){const s=kt(t),n=r.useRef(""),o=r.useRef(0),l=r.useCallback(a=>{const i=n.current+a;s(i),function c(f){n.current=f,window.clearTimeout(o.current),f!==""&&(o.current=window.setTimeout(()=>c(""),1e3))}(i)},[s]),d=r.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,l,d]}function ut(t,s,n){const l=s.length>1&&Array.from(s).every(f=>f===s[0])?s[0]:s,d=n?t.indexOf(n):-1;let a=Sn(t,Math.max(d,0));l.length===1&&(a=a.filter(f=>f!==n));const c=a.find(f=>f.textValue.toLowerCase().startsWith(l.toLowerCase()));return c!==n?c:void 0}function Sn(t,s){return t.map((n,o)=>t[(s+o)%t.length])}var wn=Be,pt=He,yn=Ue,bn=We,Nn=Ke,ft=$e,Cn=Ye,mt=Qe,ht=et,jn=tt,Tn=ot,xt=st,gt=rt,vt=lt;const Pn=wn,In=yn,St=r.forwardRef(({className:t,children:s,...n},o)=>e.jsxs(pt,{ref:o,className:Y("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(bn,{asChild:!0,children:e.jsx(Ae,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=pt.displayName;const wt=r.forwardRef(({className:t,...s},n)=>e.jsx(xt,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(zt,{className:"h-4 w-4"})}));wt.displayName=xt.displayName;const yt=r.forwardRef(({className:t,...s},n)=>e.jsx(gt,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ae,{className:"h-4 w-4"})}));yt.displayName=gt.displayName;const bt=r.forwardRef(({className:t,children:s,position:n="popper",...o},l)=>e.jsx(Nn,{children:e.jsxs(ft,{ref:l,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[e.jsx(wt,{}),e.jsx(Cn,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(yt,{})]})}));bt.displayName=ft.displayName;const Rn=r.forwardRef(({className:t,...s},n)=>e.jsx(mt,{ref:n,className:Y("px-2 py-1.5 text-sm font-semibold",t),...s}));Rn.displayName=mt.displayName;const Nt=r.forwardRef(({className:t,children:s,...n},o)=>e.jsxs(ht,{ref:o,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tn,{children:e.jsx(Ft,{className:"h-4 w-4"})})}),e.jsx(jn,{children:s})]}));Nt.displayName=ht.displayName;const En=r.forwardRef(({className:t,...s},n)=>e.jsx(vt,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",t),...s}));En.displayName=vt.displayName;function On(){const{competitionId:t}=Ut(),[s,n]=r.useState(""),{data:o,error:l,isLoading:d}=je({queryKey:["competition",t],queryFn:()=>t?Yt(t):null});return r.useEffect(()=>{if(o!=null&&o.currentSeason){const a=new Date(o.currentSeason.startDate).getFullYear().toString();n(a)}},[o]),l?e.jsxs("p",{children:["Error: ",l.message]}):d?e.jsx("p",{children:"Loading..."}):o?e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:o.name}),e.jsxs(Pn,{onValueChange:a=>n(a),value:s,children:[e.jsx(St,{children:e.jsx(In,{placeholder:"Season"})}),e.jsx(bt,{children:o.seasons&&o.seasons.map(a=>e.jsxs(Nt,{value:a.startDate.toString().split("-")[0],children:[a.startDate.toString().split("-")[0]," -"," ",a.endDate.toString().split("-")[0]]},a.id))})]}),s&&t&&o.type==Ee.LEAGUE&&e.jsx(Qt,{season:s,competitionId:t}),s&&t&&o.type==Ee.CUP&&e.jsx(Zt,{season:s,competitionId:t})]}):e.jsx("h1",{children:"Error"})}export{On as default};
